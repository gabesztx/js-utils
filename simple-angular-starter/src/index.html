<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Angular 2 App</title>
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico">

    <base href="/">

    <script>
        if (window.document.documentMode) {
            // polyfill IE11 in a blocking way
            var s = document.createElement('script');
            s.src = 'js/ie-polyfills.bundle.js';
            document.head.appendChild(s);
        } else if (!Object.assign) {
            // polyfill other non-evergreen browsers in a blocking way
            var polyfillUrl = "https://cdn.polyfill.io/v2/polyfill.min.js?features=default,Array.prototype.find&flags=gated&unknown=polyfill";
            // send a blocking XHR to fetch the polyfill
            // then append it to the document so that its eval-ed synchronously
            // this is required because the method used for IE is not reliable with other non-evergreen browsers
            var xhr = new XMLHttpRequest();
            xhr.addEventListener("load", function() {
                var s = document.createElement('script');
                s.type = 'text/javascript';
                var code = this.responseText;
                s.appendChild(document.createTextNode(code));
                document.head.appendChild(s);
            });
            xhr.open("GET", polyfillUrl, false);
            xhr.send();
        }
    </script>

  </head>
  <body>
    <app-root>Loading...</app-root>
  </body>
</html>
